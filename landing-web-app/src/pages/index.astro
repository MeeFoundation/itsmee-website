---
import Layout from "@layouts/Layout.astro";
import { Header, Footer, AppButtons } from "mee-components";
import { header, footer } from "../config";
import TypingLogo from "@components/TypingLogo.astro";
import MirrorLogo from "@components/MirrorLogo.astro";
import DataSection from "@components/DataSection.astro";
import WhatIsMeeAnimation from "@components/WhatIsMeeAnimation.astro";
import ApplicationDesktopSlider from "@components/ApplicationDesktopSlider.astro";
import ApplicationMobileSlider from "@components/ApplicationMobileSlider.astro";
import WhatKindDataAnimation from "@components/WhatKindDataAnimation.astro";
---

<Layout title="Welcome to Mee">
  <Header header={header} disableMobileMenu={true}>
    <div slot="logo">
      <TypingLogo size="small" /><MirrorLogo size="small" />
    </div>
  </Header>
  <main class="w-screen overflow-hidden dark:bg-darky">
    <article
      class="relative mt-27 flex h-full w-screen flex-col items-center justify-between gap-10 overflow-hidden md:gap-20"
    >
      <section
        class="flex w-full max-w-7xl flex-col px-4 xl:my-10 xl:mb-20 xl:mt-40 xl:flex-row xl:gap-20 xl:px-0"
      >
        <div class="flex flex-col gap-6 xl:gap-16">
          <div class="flex flex-col gap-4">
            <h2
              class="text-center font-sans text-xl font-bold leading-7 text-grey-500 xl:text-start xl:text-2xl xl:leading-8 dark:text-grey-400"
            >
              UNDER DEVELOPMENT
            </h2>
            <h1
              class="bg-gradient-to-r from-grey-900 to-brand-500 bg-clip-text text-center text-4xl text-transparent xl:text-left xl:text-6xl dark:from-grey-50 dark:to-brand-500"
            >
              Smartwallet
            </h1>
            <p
              class="text-center text-xl xl:text-left xl:text-2xl dark:text-gray-200"
            >
              We believe that people have an inalienable right to a digital identity. We secure this right by freely giving everyone their own independent identity&mdash;one that can never be taken from you by big tech or the government. <br>This identity lives on your phone and/or laptop and is created by a software app called the Mee Smartwallet. The smartwallet manages the storage of your personal data, and allows you to privately share it with people and organizations you trust.
            </p>
          </div>
          <!-- <div class="flex w-full justify-center xl:justify-start">
            <AppButtons class="!px-0 xl:!items-start" noDescription />
          </div> -->
        </div>

        <WhatIsMeeAnimation />
      </section>

      <DataSection />

      <section class="-mb-40">
        <div class="section-dark-gradient flex w-screen flex-col items-center">
          <div
            class="flex w-full max-w-7xl flex-col items-center justify-start gap-4 px-5 py-10 xl:gap-8 xl:py-40"
          >
            <div class="flex w-full justify-center xl:justify-start">
              <div class="flex max-w-screen-lg flex-col">
                <h4
                  class="text-center text-lg text-grey-300 md:text-2xl xl:text-left"
                >
                  Applications
                </h4>
                <h2
                  class="mb-2 text-center text-3xl text-white xl:mb-4 xl:text-left xl:text-5xl"
                >
                  Create secure data sharing connections between you and another
                  person or business.
                </h2>
                <p
                  class="mb-4 text-center text-lg text-white md:text-2xl xl:mb-6 xl:text-left"
                >
                  In a Mee sharing connection, you decide what to share and for
                  how long the other party can see it and get your updates to
                  it.
                </p>
                <h4
                  class="text-center text-xl font-bold text-white md:text-2xl xl:text-left"
                >
                  Securely share your:
                </h4>
              </div>
            </div>
            <ApplicationDesktopSlider
              className="hidden w-full justify-between xl:!flex"
            />
            <ApplicationMobileSlider className="w-full xl:!hidden" />
          </div>

          <div
            class="flex w-full max-w-7xl flex-col items-center justify-start gap-4 px-5 py-10 xl:gap-8 xl:py-40"
          >
            <div
              class="flex w-full max-w-7xl flex-col items-center justify-between gap-5 px-5 xl:flex-row xl:py-40"
            >
              <div class="flex max-w-[640px] flex-col">
                <h4
                  class="text-center text-lg text-grey-300 md:text-2xl xl:text-left"
                >
                  Data
                </h4>
                <h2
                  class="mb-2 text-center text-3xl text-white xl:mb-4 xl:text-left xl:text-5xl"
                >
                  What kind of data?
                </h2>
                <p
                  class="mb-4 text-center text-lg text-white md:text-2xl xl:mb-6 xl:text-left"
                >
                  All kinds. Files, images, contact info, text messages, medical
                  histories, insurance policies, credit cards. Sensitive,
                  important information that you need to share with others, (or
                  them with you) to get important things done.
                </p>
              </div>

              <WhatKindDataAnimation />
            </div>
          </div>
        </div>

        <div
          class="gradient-to-white relative flex w-screen flex-col items-center gap-14 px-10 pb-40 md:gap-20 md:pb-80 lg:gap-24"
        >
          <div class="section-bg-image absolute h-full w-full max-w-7xl"></div>
          <div
            class="flex w-full max-w-7xl flex-col-reverse items-center justify-between gap-4 pt-48 md:flex-row md:gap-0 md:pt-80"
          >
            <div class="z-70 flex flex-1 flex-col items-start gap-8 md:gap-16">
              <div class="flex flex-col items-start gap-4">
                <div class="flex flex-col items-start">
                  <div
                    class="text-left text-lg leading-thick text-grey-500 md:text-xl md:leading-normal lg:text-2xl"
                  >
                    Human-centered design
                  </div>
                  <h2
                    class="section-title text-left text-3xl font-bold leading-thick md:text-4xl md:leading-normal lg:text-5xl"
                  >
                    Privacy first
                  </h2>
                </div>
                <h3
                  class="text max-w-3xl text-pretty text-start text-xl md:pr-10 md:text-2xl"
                >
                  The Mee Smartwallet is open-source and secure. It encrypts your data
                  both in transit and at rest. Your data stays with you
                  unless you share it with someone else. Your data is stored on your device(s). No data is stored on our servers, so we can’t monetize or share it with anyone
                  (even the government), because, well, we don’t have it.
                  Instead, we’re funded by donations. 
                </h3>
              </div>
            </div>
            <div class="z-70 flex-1">
              <img
                class="w-full rounded-lg md:rounded-2xl"
                alt="browser"
                src="/images/browser.png"
              />
            </div>
          </div>
        </div>

        <div
          class="gradient-from-white relative flex w-screen flex-col items-center px-10 pb-80 text-grey-800"
        >
          <div
            class="flex w-full max-w-7xl flex-col items-center justify-between gap-4 md:flex-row md:gap-40"
          >
            <div class="w-full max-w-80 flex-1">
              <img class="w-full" src="/images/connections.png" alt="phone" />
            </div>
            <div class="z-70 flex flex-1 flex-col items-start gap-4">
              <div class="flex flex-col items-start gap-4">
                <div class="flex flex-col items-start">
                  <div
                    class="text-left text-lg leading-thick text-grey-500 md:text-xl md:leading-normal lg:text-2xl"
                  >
                    For developers
                  </div>
                  <h2
                    class="section-title text-left text-3xl font-bold leading-thick md:text-4xl md:leading-normal lg:text-5xl"
                  >
                    Experimental builds
                  </h2>
                </div>

                <h3
                  class="text max-w-3xl text-pretty text-start text-xl md:text-2xl"
                >
                  It’s still early days, but we’re making progress towards our
                  vision. Experimental versions of
                  the Mee Smartwallet are available for iOS and Android. We plan
                  support for desktop platforms after we’ve made more progress
                  on the mobile front.
                </h3>
                <!-- <a
                  class="my-4 w-full text-xl leading-relaxed text-brand-600 underline md:text-2xl"
                  href="https://smartwallet.mee.foundation/"
                >
                  Learn more about Mee Smartwallet <i
                    class="bi bi-arrow-right ml-2"></i>
                </a> -->

                <AppButtons
                  noDescription
                  class="!w-full !items-start !justify-start !px-0 pt-4"
                  buttonsClass="!flex-row-reverse"
                />
              </div>
            </div>
          </div>
        </div>
      </section>

      <Footer footer={footer} mode="dark" />
    </article>
  </main>
</Layout>

<script>
  const pasteSvgInline = async (img: Element) => {
    const classes = img.getAttribute("class");
    const src = img.getAttribute("src");
    if (!src || !parent) return;
    const rep = await fetch(src);
    const svgString = await rep.text();
    const div = document.createElement("div");
    div.innerHTML = svgString;
    const svg = div.querySelector("svg")!;
    svg.setAttribute("class", classes || "");
    img.parentNode?.replaceChild(svg, img);
  };

  (async () => {
    const images = document.querySelectorAll(".svg-inline");

    for (const img of images) {
      pasteSvgInline(img);
    }
  })();
</script>

<style is:global>
  .section-bg {
    background: linear-gradient(
      180deg,
      #0f172a 12.34%,
      #334155 34.28%,
      #475569 45.64%,
      #64748b 56.85%,
      #f8fafc 100%
    );
  }

  .gradient-to-white {
    background: linear-gradient(
      180deg,
      var(--auxiliary-gray-200, #e2e8f0) 12.34%,
      var(--surface-default-main, #fff) 100%
    );
  }

  .gradient-from-white {
    background: linear-gradient(
      187deg,
      var(--surface-default-main, #fff) 5.27%,
      var(--surface-default-main, #fff) 93.89%
    );
  }

  .section-2-bg {
    background: linear-gradient(187.32deg, #f8fafc 5.27%, #f3f8f8 93.89%);
  }

  .section-dark-gradient {
    background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
  }

  .section-title {
    background: linear-gradient(90deg, #0f172a 0%, #4f868e 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
  }
  .section-bg-image::after {
    content: "";
    max-width: 80rem;
    width: 100%;
    height: 100%;
    background: url("/images/stars.svg") no-repeat;
    position: absolute;
    display: inline-block;
    left: 0;
    top: 0;
    background-size: 100% 100%;
  }
  .gradient-title {
    background: linear-gradient(90deg, #0f172a 0%, #4f868e 100%), #1e293b;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
  }
  .dark .gradient-title {
    background: linear-gradient(90deg, #f8fafc 0%, #4f868e 100%), #e2e8f0;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-fill-color: transparent;
  }
</style>
